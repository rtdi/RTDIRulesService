showFooter : function() {
	return false;
},
init : function() {
	var oModel = new JSONModel();
	var that = this;
	var sServicename = jQuery.sap.getUriParameters().get("servicename");
	var sMicroservicename = jQuery.sap.getUriParameters().get("microservice");
	oModel.loadData("../rest/rules/" + encodeURI(sServicename) + "/" + encodeURI(sMicroservicename));
	this.getView().setModel(oModel);
	

	var oStateModel = this.getView().getModel("state");
	oStateModel.setProperty("/title", "Define Schema rules");
	oStateModel.setProperty("/breadcrumbs", [ 
		{"text" : "Homepage", "link" : "./Home"}, 
		{"text" : "Services", "link" : "./Services"}, 
		{"text" : "Service", "link" : "./Service?servicename=" + encodeURI(sServicename) }
	] );
	
	var oModelSchemas = new JSONModel();
	oModelSchemas.setSizeLimit(1000);
	oModelSchemas.loadData("../rest/schemas");
	this.getView().setModel(oModelSchemas, "schemas");
	
},
edit : function(oEvent) {
},
onAddSchema : function(oEvent) {
	var oModel = this.getView().getModel();
	var oNewEntry = { name: "" };
	var aSchemas = oModel.getProperty("/schemas");
	if (aSchemas) {
		aSchemas.push(oNewEntry);
	} else {
		aSchemas = [ oNewEntry ];
	}
	oModel.setProperty("/schemas", aSchemas);
},
onConfigureRules : function(oEvent) {
	var path = oEvent.getSource().getBindingContext().getPath();
	var oModel = this.getView().getModel();
	var obj = oModel.getProperty(path);
	var sServicename = jQuery.sap.getUriParameters().get("servicename");
	var sMicroservicename = jQuery.sap.getUriParameters().get("microservice");
	window.location.href = './Ruleset?servicename=' + encodeURI(sServicename) + '&microservice=' + encodeURI(sMicroservicename) + '&schema=' + encodeURI(obj.name);
}
